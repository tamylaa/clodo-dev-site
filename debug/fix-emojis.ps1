# PowerShell script to fix garbled emoji characters in HTML files
$emojiFixes = @{
    "Ã°Å¸â€¡Â§Ã°Å¸â€¡Â·" = "ðŸ‡§ðŸ‡·"
    "Ã°Å¸â€¡Â©Ã°Å¸â€¡Âª" = "ðŸ‡ªðŸ‡º"
    "Ã°Å¸â€¡Â®Ã°Å¸â€¡Â¹" = "ðŸ‡®ðŸ‡¹"
    "Ã°Å¸â€¡Â®Ã°Å¸â€¡Â³" = "ðŸ‡®ðŸ‡³"
    "Ã°Å¸Â¦" = "ðŸ¤–"
    "Ã°Å¸Â¥" = "ðŸ¤¥"
    "Ã°Å¸'Â¡" = "ðŸ’¡"
    "Ã°Å¸'Â°" = "ðŸ’°"
    "Ã°Å¸"" = "ðŸ“‘"
    "Ã°Å¸""Â¥" = "ðŸ”¥"
    "Ã°Å¸""Â¬" = "ðŸ“¬"
    "Ã°Å¸""Å¡" = "ðŸš€"
    "Ã°Å¸""Â¢" = "ðŸ¢"
    "Ã°Å¸""Â" = "ðŸŒ"
    "Ã°Å¸""Â°" = "ðŸ’°"
    "Ã°Å¸""Â¦" = "ðŸ“¦"
    "Ã°Å¸""â€¦" = "âœ…"
    "Ã°Å¸""â‚¬" = "ðŸš€"
    "Ã°Å¸""Â¡" = "âš¡"
    "Ã°Å¸""'" = "ðŸ”’"
    "Ã°Å¸""â€¹" = "ðŸ“‹"
    "Ã°Å¸""Ë†" = "ðŸŽ¯"
    "Ã°Å¸""â€°" = "âš¡"
    "Ã°Å¸""Å " = "ðŸ”§"
    "Ã°Å¸""" = "ðŸ“Š"
    "Ã°Å¸""Å½" = "ðŸŽ¯"
    "Ã°Å¸""Â" = "ðŸ—ï¸"
    "Ã°Å¸""Â" = "ðŸ› ï¸"
    "Ã°Å¸""â€˜" = "ðŸ“‘"
    "Ã°Å¸""â€™" = "ðŸ“ˆ"
    "Ã°Å¸""" = "ðŸ“Š"
    "Ã°Å¸""â€¢" = "ðŸ“ˆ"
    "Ã°Å¸""â€“" = "ðŸ“‰"
    "Ã°Å¸""â€”" = "ðŸ“Š"
    "Ã°Å¸""Ëœ" = "ðŸ“ˆ"
    "Ã°Å¸""â„¢" = "ðŸ“‰"
    "Ã°Å¸""Å¡" = "ðŸš€"
    "Ã°Å¸""â€º" = "ðŸ“ˆ"
    "Ã°Å¸""Å“" = "ðŸ“Š"
    "Ã°Å¸""Â" = "ðŸ“ˆ"
    "Ã°Å¸""Å¾" = "ðŸ“‰"
    "Ã°Å¸""Å¸" = "ðŸ“Š"
    "Ã°Å¸""Â¡" = "âš¡"
    "Ã°Å¸""Â¢" = "ðŸ¢"
    "Ã°Å¸""Â£" = "ðŸ—ï¸"
    "Ã°Å¸""Â¤" = "ðŸ”§"
    "Ã°Å¸""Â¥" = "ðŸ”¥"
    "Ã°Å¸""Â¦" = "ðŸ“¦"
    "Ã°Å¸""Â§" = "ðŸ“‹"
    "Ã°Å¸""Â¨" = "ðŸŽ¯"
    "Ã°Å¸""Â©" = "ðŸ“Š"
    "Ã°Å¸""Âª" = "ðŸ“ˆ"
    "Ã°Å¸""Â«" = "ðŸ“‰"
    "Ã°Å¸""Â¬" = "ðŸ“¬"
    "Ã°Å¸""Â­" = "ðŸ“‹"
    "Ã°Å¸""Â®" = "ðŸŽ¯"
    "Ã°Å¸""Â¯" = "ðŸ“Š"
    "Ã°Å¸""Â°" = "ðŸ’°"
    "Ã°Å¸""Â±" = "ðŸ“ˆ"
    "Ã°Å¸""Â²" = "ðŸ“‰"
    "Ã°Å¸""Â³" = "ðŸ“Š"
    "Ã°Å¸""Â´" = "ðŸ“ˆ"
    "Ã°Å¸""Âµ" = "ðŸ“‰"
    "Ã°Å¸""Â¶" = "ðŸ“Š"
    "Ã°Å¸""Â·" = "ðŸ“ˆ"
    "Ã°Å¸""Â¸" = "ðŸ“‰"
    "Ã°Å¸""Â¹" = "ðŸ“Š"
    "Ã°Å¸""Âº" = "ðŸ“ˆ"
    "Ã°Å¸""Â»" = "ðŸ“‰"
    "Ã°Å¸""Â¼" = "ðŸ“Š"
    "Ã°Å¸""Â½" = "ðŸ“ˆ"
    "Ã°Å¸""Â¾" = "ðŸ“‰"
    "Ã°Å¸""Â¿" = "ðŸ“Š"
    "Ã°Å¸""Ã€" = "ðŸ“ˆ"
    "Ã°Å¸""Ã" = "ðŸ“‰"
    "Ã°Å¸""Ã‚" = "ðŸ“Š"
    "Ã°Å¸""Ãƒ" = "ðŸ“ˆ"
    "Ã°Å¸""Ã„" = "ðŸ“‰"
    "Ã°Å¸""Ã…" = "ðŸ“Š"
    "Ã°Å¸""Ã†" = "ðŸ“ˆ"
    "Ã°Å¸""Ã‡" = "ðŸ“‰"
    "Ã°Å¸""Ãˆ" = "ðŸ“Š"
    "Ã°Å¸""Ã‰" = "ðŸ“ˆ"
    "Ã°Å¸""ÃŠ" = "ðŸ“‰"
    "Ã°Å¸""Ã‹" = "ðŸ“Š"
    "Ã°Å¸""ÃŒ" = "ðŸ“ˆ"
    "Ã°Å¸""Ã" = "ðŸ“‰"
    "Ã°Å¸""ÃŽ" = "ðŸ“Š"
    "Ã°Å¸""Ã" = "ðŸ“ˆ"
    "Ã°Å¸""Ã" = "ðŸ“‰"
    "Ã°Å¸""Ã‘" = "ðŸ“Š"
    "Ã°Å¸""Ã’" = "ðŸ“ˆ"
    "Ã°Å¸""Ã“" = "ðŸ“‰"
    "Ã°Å¸""Ã”" = "ðŸ“Š"
    "Ã°Å¸""Ã•" = "ðŸ“ˆ"
    "Ã°Å¸""Ã–" = "ðŸ“‰"
    "Ã°Å¸""Ã—" = "ðŸ“Š"
    "Ã°Å¸""Ã˜" = "ðŸ“ˆ"
    "Ã°Å¸""Ã™" = "ðŸ“‰"
    "Ã°Å¸""Ãš" = "ðŸ“Š"
    "Ã°Å¸""Ã›" = "ðŸ“ˆ"
    "Ã°Å¸""Ãœ" = "ðŸ“‰"
    "Ã°Å¸""Ã" = "ðŸ“Š"
    "Ã°Å¸""Ãž" = "ðŸ“ˆ"
    "Ã°Å¸""ÃŸ" = "ðŸ“‰"
    "Ã°Å¸""Ã " = "ðŸ“Š"
    "Ã°Å¸""Ã¡" = "ðŸ“ˆ"
    "Ã°Å¸""Ã¢" = "ðŸ“‰"
    "Ã°Å¸""Ã£" = "ðŸ“Š"
    "Ã°Å¸""Ã¤" = "ðŸ“ˆ"
    "Ã°Å¸""Ã¥" = "ðŸ“‰"
    "Ã°Å¸""Ã¦" = "ðŸ“Š"
    "Ã°Å¸""Ã§" = "ðŸ“ˆ"
    "Ã°Å¸""Ã¨" = "ðŸ“‰"
    "Ã°Å¸""Ã©" = "ðŸ“Š"
    "Ã°Å¸""Ãª" = "ðŸ“ˆ"
    "Ã°Å¸""Ã«" = "ðŸ“‰"
    "Ã°Å¸""Ã¬" = "ðŸ“Š"
    "Ã°Å¸""Ã­" = "ðŸ“ˆ"
    "Ã°Å¸""Ã®" = "ðŸ“‰"
    "Ã°Å¸""Ã¯" = "ðŸ“Š"
    "Ã°Å¸""Ã°" = "ðŸ“ˆ"
    "Ã°Å¸""Ã±" = "ðŸ“‰"
    "Ã°Å¸""Ã²" = "ðŸ“Š"
    "Ã°Å¸""Ã³" = "ðŸ“ˆ"
    "Ã°Å¸""Ã´" = "ðŸ“‰"
    "Ã°Å¸""Ãµ" = "ðŸ“Š"
    "Ã°Å¸""Ã¶" = "ðŸ“ˆ"
    "Ã°Å¸""Ã·" = "ðŸ“‰"
    "Ã°Å¸""Ã¸" = "ðŸ“Š"
    "Ã°Å¸""Ã¹" = "ðŸ“ˆ"
    "Ã°Å¸""Ãº" = "ðŸ“‰"
    "Ã°Å¸""Ã»" = "ðŸ“Š"
    "Ã°Å¸""Ã¼" = "ðŸ“ˆ"
    "Ã°Å¸""Ã½" = "ðŸ“‰"
    "Ã°Å¸""Ã¾" = "ðŸ“Š"
    "Ã°Å¸""Ã¿" = "ðŸ“ˆ"
}

Write-Host "Starting emoji fix process..."

# Get all HTML files in public directory
$htmlFiles = Get-ChildItem -Path "public" -Recurse -Include "*.html" | Where-Object { $_.FullName -notlike "*node_modules*" }

$filesFixed = 0
$replacementsMade = 0

foreach ($file in $htmlFiles) {
    $content = Get-Content -Path $file.FullName -Raw -Encoding UTF8
    $originalContent = $content
    $fileChanged = $false

    foreach ($garbled in $emojiFixes.Keys) {
        $replacement = $emojiFixes[$garbled]
        if ($content -match [regex]::Escape($garbled)) {
            $content = $content -replace [regex]::Escape($garbled), $replacement
            $fileChanged = $true
            $replacementsMade++
            Write-Host "  Fixed: $garbled -> $replacement"
        }
    }

    if ($fileChanged) {
        Set-Content -Path $file.FullName -Value $content -Encoding UTF8
        $filesFixed++
        Write-Host "Fixed file: $($file.FullName)"
    }
}

Write-Host "`nEmoji fix complete!"
Write-Host "Files fixed: $filesFixed"
Write-Host "Total replacements: $replacementsMade"